@model Flores_De_Mayo_Information_System.Models.Entity.Application

@{
    ViewBag.Title = "ViewApplicationStatus";
    Layout = "~/Views/Shared/_WebContent.cshtml";
}

<div class="container">
    <div class="card mb-5 bg-light shadow border-0">
        <h2 class="m-5">Application Status</h2>
        <h2 class="color-danger">@TempData["errorMsg"]</h2>
    </div>
</div>

<div class="container">
    <div class="card bg-light shadow border-0">

        <div class="m-5">

            @using (Html.BeginForm())
            {
                @Html.AntiForgeryToken()

                <div class="form-horizontal">
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                    <div class="form-group mx-auto d-block">
                        <div class="col-md-12 form-inline">
                            <label class="control-label font-weight-bold mr-2">Reference Number</label>
                            @Html.EditorFor(model => model.RerenceNum, new { htmlAttributes = new { @class = "form-control  mr-2" } })
                            @Html.ValidationMessageFor(model => model.RerenceNum, "", new { @class = "text-danger" })

                            <input type="submit" value="Check" class="btn btn-primary" />
                        </div>
                    </div>
                </div>
            }

        </div>

        @if (Model != null)
        {

            <div class="m-5">

                <table class="table table-responsive">

                    <tr>
                        <th>Full Name</th>
                        <th>Application Type</th>
                        <th>Application Status</th>
                        <th>Date Applied</th>

                        @{

                            if (Model.UserIdEvaluated != null && Model.DSetIdEvaluated != null)
                            {

                                <th>Date Evaluated</th>
                                <th>Evaluated By</th>

                            }

                        }

                    </tr>

                    <tr>
                        <td><b>@Model.SinisianDatabase.LastName.ToUpper()</b>, @Model.SinisianDatabase.FirstName @Model.SinisianDatabase.MiddleName</td>
                        <td>@Model.ApplicationType.Name</td>
                        <td><b>@Model.ApplicationStatusType.Name</b></td>
                        <td>@Model.DateSetting.Year.Value.ToShortDateString()</td>

                        @if (Model.UserIdEvaluated != null && Model.DSetIdEvaluated != null)
                        {

                            <td>@Model.DateSetting1.Year</td>
                            <td>@Model.AspNetUser.UserName</td>

                        }

                    </tr>

                </table>

            </div>

        }
    </div>
</div>